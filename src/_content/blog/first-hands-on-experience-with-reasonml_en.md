---
slug: first-hands-on-experience-with-reasonml
lang: en
title: First hands on experience with ReasonML
date: 2020-04-25T19:09:05.782Z
thumbnail:
  author: Robert Bye
  img: /images/uploads/surf-robert-bye-unsplash.jpg
  src: https://unsplash.com/@robertbye
tags:
  - reasonml
  - functional_programming
  - fp
  - bucklescript
  - ocaml
preface: –ù–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è –Ω–∞–∑–∞–¥ —è –Ω–∞—á–∞–ª –∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –Ω–æ–≤—ã–º –¥–ª—è —Å–µ–±—è —è–∑—ã–∫–æ–º
  –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è - ocaml, —Å –µ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º ReasonML –µ—Å–ª–∏ –±—ã—Ç—å —Ç–æ—á–Ω—ã–º. –ê —á—Ç–æ–±—ã
  —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ –Ω—ë–º –ø–æ–ª—É—á—à–µ —è —Ä–µ—à–∏–ª –µ—â—ë –∏ –ø–∏—Å–∞—Ç—å —Å—Ç–∞—Ç—å–∏. –≠—Ç–∞ –±—É–¥–µ—Ç –ø–µ—Ä–≤–æ–π (–∏
  –Ω–∞–¥–µ—é—Å—å –Ω–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π).
---
## Where did it came from?

First of all, as offitiall docs stands [reason](https://en.wikipedia.org/wiki/Reason_(programming_language)) is not a new programming language, it's a new syntax and toolchain powered by the battle-tested language, [OCaml](https://ocaml.org/).

Currently *reason* is mostly mentioned in *javascript* and *react* communities for a reason üòè: along with new syntax, a new *backend* (compiler to *js*) is being developed - [bucklescript](https://bucklescript.github.io), and it is led by [Jordan Walke](https://twitter.com/jordwalke), who previously created *react*.

## What can we expect? Where can we use it?

Like I sad, *reason* is not a new language, it is a syntax. And OCaml is a general purpose language, so it is applied in various areas:

* automatic theorem provers ü§∑‚Äç‚ôÇÔ∏è
* compilers and interpreters üôÜüèæ
* program analyzers üôÜüèæ
* used for teaching programming üë©üèΩ‚Äçüéì
* ...

[Here](https://ocaml.org/learn/success.html) you can find a list of success stories.

*Reason* is also already actively used and there are some pretty interesting projects:

* [revery](https://github.com/revery-ui/revery) - framework for development of cross-platform desktop apps üíª
* [onivim](https://v2.onivim.io/) - IDE build with *revery* üëÜ
* [rely](https://reason-native.com/docs/rely/) - jest-like blazing fast native test framework ‚ö°Ô∏è
* ...

And I think it will be especially interesting for *react* developers to hear that *reason* is [gonna be a better platform for *react*](https://youtu.be/5fG_lyNuEAw):

* its syntax should be familiar to *js* developers
* it is functional hence it is more idiomatic for react.\
  *js* can also be considered functional language, but unlike *js* in *reason* there are:

  * [carring](https://en.wikipedia.org/wiki/Currying)
  * [pattern matching](https://en.wikipedia.org/wiki/Pattern_matching)
  * build in *Option* monad (which it wipes out \`can't read property of underfined\` problem an more)
  * ...
* statically typed, with strong inference mechanism\
   Even though it might not sound like a new think to you: both *typescript* and *flow* proved themselves, and I personally can not imagine starting a new project without them. But *reason* is at completely another level: e.g. you don't have to declare types even for function arguments (which is also true for *flow*). And what even more important, *reason* was built with inference in mind. While *typescript* and *flow* have to struggle with dynamic nature of *js*. \
  Obviously these benefits don't come for free: some things, which people are used to have in *js*, are not available in _reason. And here are some thoughts from Jordan about it:

<blockquote class="twitter-tweet" data-conversation="none" data-lang="ru" data-theme="light" data-link-color="#2B7BB9"><p lang="en" dir="ltr">The hardest part is telling JS developers ‚Äúno you can‚Äôt do that anymore‚Äù. I think the easiest path is a fresh, but familiar start, in order to reset expectations.</p>&mdash; Jordan ‚öõÔ∏è (@jordwalke) <a href="https://twitter.com/jordwalke/status/1143368198558892032?ref_src=twsrc%5Etfw">25 –∏—é–Ω—è 2019 –≥.</a></blockquote>

* it has awesome interprop with *js* - you can use *js* in _reason üò≤ and visa-versa üôÉ\
  Result of compilation is minimalistic, optimised for perf and last, but not least human readable üìñ!
* it can be compiled to native code, hence you can get insane performance if you need it

## All right, down to business

I hope, at this point you are impressed and interested in learning this language. So we can try to build something using it. I didn't have to think a lot about the app I want to build here. Since uni I am familiar with a [Conway's Game of Life](https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life). I think I implemented it first in *Pascal*, then in *Delphi*, *c*, *java*, *js* and, apparently, it is time to write it in *reason*. I believe it is really good way to start learning a language: you have to write some algorithm, work with collections, build some UI...

You can already checkout complete game and it's source [here](https://kitos.github.io/game-of-life/).

–ú–µ—Å—Ç–æ –¥–µ–π—Å—Ç–≤–∏—è —ç—Ç–æ–π –∏–≥—Ä—ã - –≤—Å–µ–ª–µ–Ω–Ω–∞—è, –ø—Ä–µ–¥–ª–∞–≥–∞—é –∏ –Ω–∞—á–∞—Ç—å —Å –µ—ë —Å–æ—Ç–≤–æ—Ä–µ–Ω–∏—è.

## Variant!

–°–æ–≥–ª–∞—Å–Ω–æ –≤–∏–∫–∏–ø–µ–¥–∏–∏, –≤—Å–µ–ª–µ–Ω–Ω–∞—è —É –Ω–∞—Å - –ø–ª–æ—Å–∫–æ—Å—Ç—å, –∫–∞–∂–¥–∞—è –∫–ª–µ—Ç–∫–∞ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –æ–¥–Ω–æ –∏–∑ –¥–≤—É—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π: –∂–∏–≤–∞—è (–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–∞—è) üíÉ –∏ –º—ë—Ä—Ç–≤–∞—è (–ø—É—Å—Ç–∞—è) üôÖ‚Äç‚ôÇÔ∏è.

–í *js*, –¥–∞ –∏ –≤–æ –º–Ω–æ–≥–∏—Ö –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö, —è –±—ã –ø—Ä–∏–±–µ–≥–Ω—É–ª –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é *boolean* –∏–ª–∏ —Å—Ç—Ä–æ–∫–∏ (`'alive' | 'dead'`) –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è —ç—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è. –ù–æ –ø–µ—Ä–≤—ã–π –ø–æ–¥—Ö–æ–¥, –Ω–∞ –º–æ–π –≤–∑–≥–ª—è–¥, –Ω–µ —Å–∞–º—ã–π –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π/–¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π, –∞ –≤—Ç–æ—Ä–æ–π –º–Ω–µ –Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è —Ç–µ–º, —á—Ç–æ —Å—Ç—Ä–æ–∫–∏ –∏ –±–µ–∑ —Ç–æ–≥–æ –º–Ω–æ–≥–æ–ª–∏–∫–∏: –æ–Ω–∏ –∏ —Ç–µ–∫—Å—Ç —Ö—Ä–∞–Ω—è—Ç, –∏ –∫–ª—é—á–∞–º–∏ –≤ –æ–±—ä–µ–∫—Ç–∞—Ö/–∫–∞—Ä—Ç–∞—Ö –≤—ã—Å—Ç—É–ø–∞—é—Ç –∏ –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ —á—Ç–æ-—Ç–æ –µ—â—ë ü§î. –í *typescript* –µ—Å—Ç—å *enum*, —á—Ç–æ —É–∂–µ –±–ª–∏–∂–µ –∫ —Ç–æ–º—É, —Å —á–µ–º —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã —Ä–∞–±–æ—Ç–∞—Ç—å. –ù–æ –≤ *reason* –µ—Å—Ç—å –Ω–µ—á—Ç–æ –ª—É—á—à–µ–µ - *variant*'—ã. –ß–µ–º –æ–Ω–∏ –ª—É—á—à–µ?

1. –û–Ω–∏ –¥–∞—é—Ç –±–û–ª—å—à—É—é —Ç–∏–ø–æ-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å - *reason* –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –∫–µ–π—Å—ã *variant*'–æ–≤ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –Ω–∏–º–∏. –í—Å—Ç—Ä–æ–µ–Ω—ã–º variant'–æ–º —è–≤–ª—è–µ—Ç—Å—è `option`, —Ç–æ—Ç —Å–∞–º—ã–π, —á—Ç–æ —Å–ø–∞—Å—ë—Ç –Ω–∞—Å –æ—Ç `null`'–æ–≤ –∏ `undefined`'–æ–≤, –∫–æ—Ç–æ—Ä—ã—Ö –≤ reason –Ω–µ—Ç. –í —Å–ª—É—á–∞–µ —Å `option` –∑–Ω–∞—á–µ–Ω–∏–µ —É –Ω–∞—Å –º–æ–∂–µ—Ç –±—ã—Ç—å - `Some('a)` –∏–ª–∏ –Ω–µ –±—ã—Ç—å - `None`.
2. –û–Ω–∏ –º–æ–≥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å –æ–¥–Ω–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π –≤–Ω—É—Ç—Ä–∏.
3. –û–Ω–∏ –∏–¥—É—Ç –≤–∫—É–ø–µ —Å –¥—Ä—É–≥–∏–º –º–æ—â–Ω—ã–º –º–µ—Ö–∞–Ω–∏–∑–º–æ–º —è–∑—ã–∫–∞ - —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º —Å –æ–±—Ä–∞–∑—Ü–æ–º (pattern matching)

–ü–æ–∫–∞ –¥–∞–≤–∞–π—Ç–µ –æ—Å—Ç–∞–Ω–æ–≤–∏–º—Å—è –Ω–∞ —Ç–æ–º, —á—Ç–æ –æ–±—ä—è–≤–∏–º –Ω–∞—à *variant*:

```reason
type cellState =
  | Dead
  | Alive;

let myCell = Alive;
```

–ù–∞–≥–ª—è–¥–Ω–æ, –Ω–µ –ø—Ä–∞–≤–¥–∞ –ª–∏?

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –≤—Å–µ–ª–µ–Ω–Ω—É—é - –ø–ª–æ—Å–∫–æ—Å—Ç—å. –î–ª—è —ç—Ç–æ–≥–æ, –æ—á–µ–≤–∏–¥–Ω–æ, –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–≤—É–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤. –¢.–∫. –∫–∞–∫ —Ü–µ–ª—å —Å—Ç–∞—Ç—å–∏ - –∏–∑—É—á–µ–Ω–∏—è —è–∑—ã–∫–∞, –¥–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º —Å–∞–º–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∞—Å—Å–∏–≤–æ–≤.

–¢.–∫. –¥–≤—É–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤ –Ω–∏—á—Ç–æ –∏–Ω–æ–µ –∫–∞–∫ –º–∞—Å—Å–∏–≤ –º–∞—Å—Å–∏–≤–æ–≤, –Ω–∞—á–Ω—ë–º –º—ã —Å —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è –º–∞—Å—Å–∏–≤–∞, –ø—Ä–∏—á—ë–º –Ω–µ –ø—É—Å—Ç–æ–≥–æ, –∞ –Ω–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏. –¢.–µ. —è —Ö–æ—á—É –Ω–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç 2 –∑–Ω–∞—á–µ–Ω–∏—è: –¥–ª–∏–Ω—É —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ –∏ —Ñ—É–Ω–∫—Ü–∏—é *–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä*, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –∏–Ω–¥–µ–∫—Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ (–æ–±—ã—á–Ω–æ —ç—Ç–æ –æ—á–µ–Ω—å —É–¥–æ–±–Ω–æ, –¥–∞–ª–µ–µ –ø–æ–∫–∞–∂—É –ø–æ—á–µ–º—É). –¢–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ (–¥–∞–ª–µ–µ –ø—Ä–æ—Å—Ç–æ *–§–ü*) –Ω–æ—Å—è—Ç –Ω–∞–∑—ã–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞, —Ç.–∫. –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –æ–Ω–∏ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∏—Ö).

## –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞

![Recursion](/images/uploads/recursion.jpg 'Recursion')

–î—Ä—É–≥–æ–π –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å—é —è–∑—ã–∫–æ–≤ –§–ü —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ –≤ –Ω–∏—Ö –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–º –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (ü§Ø): if/else, for/while... —Ç.–∫. –æ–Ω–∏ —É–≤–æ–¥—è—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –æ—Ç –æ–ø–∏—Å–∞–Ω–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –º–∞—à–∏–Ω–µ (–Ω–µ –ø—Ä–∏–¥—É–º–∞–ª –∫–∞–∫ –ª—É—á—à–µ –≤—ã—Ä–∞–∑–∏—Ç—å—Å—è ü§∑‚Äç‚ôÇÔ∏è). –î–∞ –∏ –≤–æ–æ–±—â–µ –∫–∞–∫ –∑–∞–º–µ—Ç–∏–ª –≤ –æ–¥–Ω–æ–º –∏–∑ —Å–≤–æ–∏—Ö –¥–æ–∫–ª–∞–¥–æ–≤ [–í–∏—Ç–∞–ª–∏–π –ë—Ä–∞–≥–∏–ª–µ–≤—Å–∫–∏–π](https://twitter.com/_bravit) –Ω–∏ —á–µ–º –Ω–µ –ª—É—á—à–µ –≤—Å–µ–º–∏ –Ω–µ–Ω–∞–≤–∏—Å—Ç–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `goto`. –ò –Ω–µ —Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –≤ *reason* [—Ü–∏–∫–ª—ã –µ—Å—Ç—å](https://reasonml.github.io/docs/en/imperative-loops), –º—ã –ø–æ–ø—ã—Ç–∞–µ–º—Å—è –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∏–¥–µ–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π - —Ä–µ–∫—É—Ä—Å–∏–µ–π.

```reason
let init = (l, fn) => {
  /*
   * –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ —Ä–µ–∫—É—Ä—Å–∏–∏
   * –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞
   * –∏ –ø–µ—Ä–µ–¥–∞—ë–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥
   */
  let rec _init = (l, arr) =>
    l > 0 ? _init(l - 1, concat(arr, [|fn(l)|])) : arr;

  _init(l, [||]);
};
```

–î–ª—è –ª—é–¥–µ–π –ø—Ä–∏—à–µ–¥—à–∏—Ö –∏–∑ *js*, –Ω–µ–∑–Ω–∞–∫–æ–º—ã–º–∏ —Ç—É—Ç —è–≤–ª—è—é—Ç—Å—è 2 –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:

* `rec` - –≤ *reason* –º—ã –≤—ã–Ω—É–∂–¥–µ–Ω—ã —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ –Ω–∞—à–∞ —Ñ—É–Ω–∫—Ü–∏—è –±—É–¥–µ—Ç —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–π
* `reason¬±[||]` - –ª–∏—Ç–µ—Ä–∞–ª —Å–æ–∑–¥–∞–Ω–∏—è –º–∞—Å—Å–∏–≤–∞ (–±–æ–ª–µ–µ –ø—Ä–∏–≤—ã—á–Ω—ã–π `js¬±[]` —Å–æ–∑–¥–∞—Å—Ç —Å–ø–∏—Å–æ–∫)

### Tail call optimisation

–ö—Ç–æ-—Ç–æ, –≤–æ–∑–º–æ–∂–Ω–æ, –∑–∞–º–µ—Ç–∏—Ç, —á—Ç–æ —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π, –∞ –∫—Ç–æ-—Ç–æ, —á—Ç–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–∞—Å—Å–∏–≤—ã —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –Ω–µ –∫–æ–º–∏–ª—å—Ñ–æ - –≤–µ–¥—å –º—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–ø–æ–ª–Ω–∏—Ç—å —Å—Ç–µ–∫. –ò –∫–∞–∫ –Ω–∏ —Å—Ç—Ä–∞–Ω–Ω–æ –æ–±–∞ —ç—Ç–∏ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å–≤—è–∑–∞–Ω—ã üòÆ.

–î–∞, —è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–æ–≥ –∑–∞–ø–∏—Å–∞—Ç—å —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ—Ä–æ—á–µ:

```reason
let rec init = (l, fn) =>
  l > 0 ? concat(init(l - 1, fn), [|fn(l)|]) : [||];
```

–ù–æ –∏–º–µ–Ω–Ω–æ —ç—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–∏–≤–µ–ª–∞ –±—ã –∫ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–º—É –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—é —Å—Ç–µ–∫–∞ üòÜ. –ü–æ—á–µ–º—É? –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —è–∑—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—è–≤–∏–ª–∏—Å—å –Ω–µ –≤—á–µ—Ä–∞, –∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—ã —É–º–µ—é—Ç —Ö–æ—Ä–æ—à–æ –∏—Ö –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å. –ü—Ä–∏–º–µ—Ä–æ–º —Ç–∞–∫–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —è–≤–ª—è–µ—Ç—Å—è *tail call*. –ï—Å–ª–∏ –∫–æ—Ä–æ—Ç–∫–æ, —Ç–æ —Å—É—Ç—å –≤ —Ç–æ–º, —á—Ç–æ –º–æ–∂–Ω–æ –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ñ—Ä–µ–π–º –≤ —Å—Ç–µ–∫–µ –¥–ª—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞, –µ—Å–ª–∏ –æ–Ω —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º –¥–µ–π—Å—Ç–≤–∏–µ–º –≤ —Ñ—É–Ω–∫—Ü–∏–∏. –ó–∞ —Å—á—ë—Ç —ç—Ç–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–∞–∫–æ–π —Ä–µ–∫—É—Ä—Å–∏–∏ –±—É–¥–µ—Ç —Ä–∞–≤–Ω–∞ –∏—Ç–µ—Ä–∞—Ü–∏–∏ (–∏ –≤–æ–æ–±—â–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –µ–π –∑–∞–º–µ–Ω–µ–Ω–∞ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º). –ü–æ–ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ–± —ç—Ç–æ–º –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å [–∑–¥–µ—Å—å](https://www.webpurple.net/blog/2018-07-19-optimizaciya-hvostovyh-vyzovov-v-ecmascript-6/).

–ò –µ—Å–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –ø–µ—Ä–≤—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, —Ç–æ –≤–∏–¥–Ω–æ —á—Ç–æ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `_init` –µ—ë —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤ –∏ —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º, –∞ –∑–Ω–∞—á–∏—Ç –Ω–∞—à –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –µ—ë –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å üòå.

–ò —Ç—É—Ç –∏—Å–∫—É—à—ë–Ω–Ω—ã–π —á–∏—Ç–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ –Ω–µ —Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ ECMAScript 6 –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç tail call –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é, [–±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –±—Ä–∞—É–∑–µ—Ä–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –µ—ë –ø–æ–∫–∞ –Ω–µ —Å–º–æ–≥–ª–∏](https://kangax.github.io/compat-table/es6/#test-proper_tail_calls_(tail_call_optimisation)). –ò –æ–Ω –±—É–¥–µ—Ç –ø—Ä–∞–≤ üò≠. –ù–æ! *Reason* –≤–µ–¥—å –Ω–µ *js*, –∏ —É –Ω–µ–≥–æ –µ—Å—Ç—å —Å–≤–æ–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä - *BuckleScript*. –ò –æ–Ω –Ω–µ –ø–æ–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä—ã *js* –∏ —Å–∞–º —Ä–µ–∞–ª–∏–∑—É–µ—Ç —ç—Ç—É –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é, –∑–∞–º–µ–Ω—è—è —ç—Ç—É –∫–æ–Ω—Ç—Ä—É–∫—Ü–∏—é –Ω–∞ `while` ü§™. –¢–∞–∫ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–∏—Ç—å —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è:

```js
function init(l, fn) {
  var _l = l
  var _arr = /* array */ []
  while (true) {
    var arr = _arr
    var l$1 = _l
    var match = l$1 > 0
    if (match) {
      _arr = /* array */ [Curry._1(fn, (l$1 - 1) | 0)].concat(arr)
      _l = (l$1 - 1) | 0
      continue
    } else {
      return arr
    }
  }
}
```

### –ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏

![Scooby doo mask reveal](/images/uploads/reveal.jpg 'Reveal')

–ï—â—ë –æ–¥–Ω–∏–º –∑–∞–º–µ—á–∞–Ω–∏–µ–º, –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è, —è–≤–ª—è–µ—Ç—Å—è –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–æ–≤ –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ. –ò –Ω–µ —Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ —è —è–≤–ª—è—é—Å—å –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–æ–º –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π, –Ω–µ –æ–±—Ä–∞—Ç–∏—Ç—å –Ω–∞ —ç—Ç–æ –≤–Ω–∏–º–∞–Ω–∏–µ –≤ —Å—Ç–∞—Ç—å–µ —è –Ω–µ –º–æ–≥—É. –ú—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞—ë–º –º–∞—Å—Å–∏–≤ –∏–∑ –æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, –∞ –ø–æ—Ç–æ–º –∫–æ–ø–∏—Ä—É–µ–º –µ–≥–æ –∏ –º–∞—Å—Å–∏–≤ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —à–∞–≥–µ –≤ –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤. –ù–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ –∏–∑ *10–∫* —ç–ª–µ–º–µ—Ç–æ–≤ –Ω–∞—à–∞ —Ñ—É–Ω–∫—Ü–∏—è —Ç—Ä–∞—Ç–∏—Ç *~60ms* –Ω–∞ –º–æ—ë–º macbook pro. –ò —Å —ç—Ç–∏–º –º–∞–≥–∏—á–µ—Å–∫–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä *reason*'–∞ —É–∂–µ –Ω–∏—á–µ–≥–æ –ø–æ–¥–µ–ª–∞—Ç—å –Ω–µ –º–æ–∂–µ—Ç. –ù–æ –∏ –Ω–µ –¥–æ–ª–∂–µ–Ω!

* –î–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ª–∏—à—å –ø—Ä–∏–º–µ—Ä —Ç–æ–≥–æ, –∫–∞–∫ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∫—É—Ä—Å–∏—é –≤–º–µ—Å—Ç–æ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤
* *Reason* –Ω–µ –∑–∞–ø—Ä–µ—â–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–∏–∫–ª—ã
* –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –∏–¥–µ–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–ª—è –§–ü —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö.\
  –ù–∞–ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ –≤ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –∞ –∑–∞—Ç–µ–º –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —ç—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞ –≤ –º–∞—Å—Å–∏–≤ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å –º–∞—Å—Å–∏–≤ –∏–∑ –º–∏–ª–ª–∏–æ–Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∑–∞ *~300ms* (–≤–µ–¥—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ —Å–ø–∏—Å–æ–∫ –æ—á–µ–Ω—å –¥–µ—à—ë–≤–æ–µ)
* –£ *reason* –µ—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ *Belt* –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ `makeBy`, –∫–æ—Ç–æ—Ä—ã–π —Å–º–æ–≥ —Å–æ–∑–¥–∞—Ç—å –º–∞—Å—Å–∏–≤ –∏–∑ *10–º–ª–Ω* —ç–ª–µ–º–µ—Ç–æ–≤ —Å —Ç–µ–∂–µ *~60ms*

–û–Ω, –∫—Å—Ç–∞—Ç–∏, –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º –∏–º–µ–µ—Ç —Ç—É —Å–∞–º—É—é –∏–º–ø–µ—Ä–∞—Ç–∏–≤—â–∏–Ω—É:

```js
function makeByU(l, f) {
  if (l <= 0) {
    return /* array */ []
  } else {
    var res = new Array(l)
    for (var i = 0, i_finish = (l - 1) | 0; i <= i_finish; ++i) {
      res[i] = f(i)
    }
    return res
  }
}
```

### –¢–∏–ø–∏–∑–∞—Ü–∏—è

–ê –≤—ã –∑–∞–º–µ—Ç–∏–ª–∏, —á—Ç–æ –º—ã –Ω–µ –æ–ø–∏—Å–∞–ª–∏ –Ω–∏ –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞? –ù–æ reason –ø—Ä–∏ —ç—Ç–æ–º –≤—ã–≤–µ–ª —Å–ª–µ–¥—É—é—â–∏–π —Ç–∏–ø –¥–ª—è –Ω–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏: `reason¬±(int, int => 'a) => Js_array.t('a)`, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç: —Ñ—É–Ω—Ü–∏—è –∫–æ—Ç–æ—Ä–∞—è –Ω–∞ –≤—Ö–æ–¥ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –∏ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —Ç–æ–∂–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç *—á—Ç–æ-—Ç–æ* (`a'`), –∞ –Ω–∞—à–∞ –∏—Å—Ö–æ–¥–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤–µ—Ä–Ω—ë—Ç –º–∞—Å—Å–∏–≤ —ç—Ç–æ–≥–æ *—á–µ–≥–æ-—Ç–æ*. –¢–∞–∫ –º—ã —Å –≤–∞–º–∏ —ç—Ç–æ –∏ –∑–∞–¥—É–º—ã–≤–∞–ª–∏: —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ - —ç—Ç–æ —Ä–∞–∑–º–µ—Ä —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–≥–æ –º–∞—Å—Å–∏–≤–∞, —Ñ—É–Ω–∫—Ü–∏—è - –Ω–∞—à –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä, –Ω—É –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–∞—Å—Å–∏–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–∞. –ö—Å—Ç–∞—Ç–∏, –ø–ª–∞–≥–∏–Ω –¥–ª—è *WebStorm* –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

![Webstorm plugin displays inferred types](/images/uploads/webstorm-reason-inference.jpg 'Webstorm plugin for reasonml')

–ú–∞–≥–∏—è –Ω–µ –ø—Ä–∞–≤–¥–∞ –ª–∏? –î–ª—è –º–µ–Ω—è, –∫–∞–∫ –¥–ª—è —á–µ–ª–æ–≤–µ–∫–∞ –±–æ–ª—å—à—É—é —á–∞—Å—Ç—å –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ —Å *typescript*'–æ–º - –ø—Ä–∞–≤–¥–∞. –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç? –ù—É... *Reason* —ç—Ç–æ –≤–µ–¥—å –Ω–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è *OCaml*, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π —è–∑—ã–∫–∞ *Caml*, –∫–æ—Ç–æ—Ä—ã–π, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Å–µ–º–µ–π—Å—Ç–≤—É *ML*, –≤ –∫–æ—Ç–æ—Ä–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤ *–•–∏–Ω–¥–ª–∏‚Äî–ú–∏–ª–Ω–µ—Ä–∞* (–Ω–∞–¥–µ—é—Å—å –Ω–µ –æ—à–∏–±—Å—è –≤ —ç—Ç–æ–π —Ü–µ–ø–æ—á–∫–µ ü§û). –ò–º–µ–Ω–Ω–æ —ç—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ —Ç–æ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–≤–æ–¥–∏—Ç—å —Ç–∏–ø—ã –¥–ª—è –≤—ã—Ä–∞–∂–µ–Ω–∏–π. –ò–∑ —Ç–µ–æ—Ä–∏–∏ —ç—Ç–æ –≤—Å—ë, —á—Ç–æ –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –º–æ–≥—É —Å–∫–∞–∑–∞—Ç—å üò≥. –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –∂–µ, –∫–∞–∫ –≤—ã —É–±–µ–¥–∏–ª–∏—Å—å, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —á—Ç–æ –Ω–∞–º –≤–æ–≤—Å–µ –Ω–µ –Ω–∞–¥–æ –æ–ø–∏—Å—ã–≤–∞—Ç—å —Ç–∏–ø—ã —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é.

## –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ç—Ä–∏—Ü—ã

![Neo stands in front of matrix of TVs](/images/uploads/matrix.jpg 'Matrix')

–ù—É —Ç–µ–ø–µ—Ä—å –∫–æ–≥–¥–∞ –º—ã —É–º–µ–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–∞—Å—Å–∏–≤—ã, –º–æ–∂–Ω–æ –∏ —Å–æ–∑–¥–∞—Ç—å –º–∞—Å—Å–∏–≤ –º–∞—Å—Å–∏–≤–æ–≤. –î–ª—è —ç—Ç–æ–≥–æ –ø—Ä–µ–¥–ª–∞–≥–∞—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `reason¬±makeBy` –∫–æ—Ç–æ—Ä–∞—è —Å–∏–≥–Ω–∞—Ç—É—Ä–æ–π –Ω–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Å–æ–∑–¥–∞–Ω–Ω–æ–π –Ω–∞–º–∏, –Ω–æ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ä—è–¥–∫–æ–≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–µ–µ:

```reason
let makeMatrixBy = (dimx, dimy, fn) =>
  makeBy(dimy, y => makeBy(dimx, x => fn((x, y))));
```

–ù—É —Ç—É—Ç –≤—Ä–æ–¥–µ –≤—Å—ë –ø—Ä–æ—Å—Ç–æ: –ø—Ä–∏–Ω–∏–º–∞–µ–º —Ä–∞–∑–º–µ—Ä—ã –º–∞—Ç—Ä–∏—Ü—ã –∏ —Ñ—É–Ω–∫—Ü–∏—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –º–∞—Å—Å–∏–≤ —Ä–∞–∑–º–µ—Ä–æ–º `reason¬±dimy` –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ —ç—Ç–æ –º–∞—Å—Å–∏–≤ —Ä–∞–∑–º–µ—Ä–æ–º `reason¬±dimx`, –Ω–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è `reason¬±fn`.

### Tuple

–ù–æ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å —Ç—É—Ç –≤—Å—ë –∂–µ –µ—Å—Ç—å - `reason¬±fn((x, y))`. –Ø –Ω–µ –æ—à–∏–±—Å—è, —ç—Ç–æ –Ω–µ –ª–∏—à–Ω–∏–µ —Å–∫–æ–±–æ—á–∫–∏, —ç—Ç–æ [–∫–æ—Ä—Ç–µ–∂](https://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D1%80%D1%82%D0%B5%D0%B6_(%D0%B8%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0)) ([tuple](https://en.wikipedia.org/wiki/Tuple)) - –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π, —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–π, —Ä–∞–∑–Ω–æ—Ä–æ–¥–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞. –ö–∞–∫ –≥–æ–≤–æ—Ä–∏—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —ç—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –æ—á–µ–Ω—å —É–¥–æ–±–Ω–∞, –∫–æ–≥–¥–∞ –≤–∞–º –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∏–ª–∏ –≤–µ—Ä–Ω—É—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π *–±–µ–∑ –ª–∏—à–Ω–∏—Ö —Ü–µ—Ä–µ–º–æ–Ω–∏–π*.

–ù—É —Å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å—é –∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ä–∞–∑–º–µ—Ä–æ–º, —è –¥—É–º–∞—é, –≤—Å—ë –ø–æ–Ω—è—Ç–Ω–æ. –£–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–æ–π—Ç–∏—Å—å –±–µ–∑ –∏–º—ë–Ω —Å–≤–æ–π—Å—Ç–≤. –ê –±–ª–∞–≥–æ–¥–∞—Ä—è —Ä–∞–∑–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç–∏ –º—ã –º–æ–∂–µ–º —Ö—Ä–∞–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –≤ –æ–¥–Ω–æ–º –∫–æ—Ä—Ç–µ–∂–µ.

–¢.–µ. *tuple* –º–æ–∂–µ—Ç –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞–º –æ–±—ä–µ–∫—Ç—ã, –Ω–æ —è –±—ã –Ω–µ —Å—Ç–∞–ª –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Å—É—â–Ω–æ—Å—Ç–∏ —Å –±–æ–ª–µ–µ —á–µ–º —Ç—Ä–µ–º—è –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ - —Å–ª–æ–∂–Ω–æ –±—É–¥–µ—Ç –∑–∞–ø–æ–º–Ω–∏—Ç—å, —á—Ç–æ –∑–∞—á–µ–º –∏–¥—ë—Ç. –ê –≤–æ—Ç –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–∞—Ä—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –æ–Ω–∏ –ø–æ–¥—Ö–æ–¥—è—Ç –∏–¥–µ–∞–ª—å–Ω–æ üòâ.

–í *js*, –∫—Å—Ç–∞—Ç–∏, –∞–Ω–∞–ª–æ–≥–æ–º –º–æ–≥—É—Ç –≤—ã—Å—Ç—É–ø–∏—Ç—å –º–∞—Å—Å–∏–≤—ã, –¥–ª—è –Ω–∏—Ö (–∫–∞–∫ –∏ –≤ *reason* –¥–ª—è *tuple*) –µ—Å—Ç—å –æ—á–µ–Ω—å —É–¥–æ–±–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏: `js¬±let [x, y] = coordinates;` (–≤ reason: `reason¬±let (x, y) = coordinates;`).

–ù—É –¥–∞–≤–∞–π—Ç–µ –Ω–∞–∫–æ–Ω–µ—Ü –ø–æ–ø—Ä–æ–±—É–µ–º —Å–æ–∑–¥–∞—Ç—å —Å–ª—É—á–∞–π–Ω–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—É—é –≤—Å–µ–ª–µ–Ω–Ω—É—é:

```reason
let universe = makeMatrixBy(5, 5, _ => Js_math.random() > 0.5 ? Alive : Dead);
Js.log(universe);
```

–ß—Ç–æ –≤ –∫–æ–Ω—Å–æ–ª–∏ —Ö—Ä–æ–º–∞ –¥–∞—ë—Ç –Ω–∞–º –≤–æ—Ç —Ç–∞–∫—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É:

![–ú–∞—Ç—Ä–∏—Ü–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ —Ö—Ä–æ–º–∞](/images/uploads/random-universe.jpg '–ú–∞—Ç—Ä–∏—Ü–∞')

## –ò—Ç–æ–≥–æ

–ù–µ —Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –∏–≥—Ä—ã –º—ã –ø—Ä–æ–¥–≤–∏–Ω—É–ª–∏—Å—å –Ω–µ —Ç–∞–∫ –¥–∞–ª–µ–∫–æ, –º—ã —Ç–µ–ø–µ—Ä—å –∑–Ω–∞–µ–º —á—Ç–æ —Ç–∞–∫–æ–µ *reason*, –æ—Ç–∫—É–¥–∞ –æ–Ω –ø—Ä–∏—à—ë–ª –∏ –≥–¥–µ –µ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –∞ —Ç–∞–∫–∂–µ —Ä–∞–∑–æ–±—Ä–∞–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —è–∑—ã–∫–æ–≤—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π.

–ù–∞–¥–µ—é—Å—å, –≤–∞–º –±—ã–ª–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –∏ –≤—ã –µ—â—ë –ø—Ä–∏–¥—ë—Ç–µ —á–∏—Ç–∞—Ç—å –¥—Ä—É–≥–∏–µ —Å—Ç–∞—Ç—å–∏ –ø—Ä–æ *reason* –∏ –Ω–µ —Ç–æ–ª—å–∫–æ.

–ê –µ—â—ë –Ω–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –¥–∞–≤–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å. –°–¥–µ–ª–∞—Ç—å —ç—Ç–æ –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –∞ –º–æ–∂–Ω–æ –≤—ã–¥–µ–ª–∏–≤ —Ç–µ–∫—Å—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –∫–∞–∫–æ–π-–ª–∏–±–æ –Ω–µ—Ç–æ—á–Ω–æ—Å—Ç–∏.